<div class="sender" [ngClass]="{ 'small-font': sentBy }" *ngIf="message">
  <div>
    <span *ngIf="sentBy && (message.doc?.name || message.contact?.name || (!message.form && message.name) || message.from || message.sent_by || message.doc?.from)"
          class="name"
          translate
          [translateParams]="{ senderName: message.doc?.name || message.contact?.name || (!message.form && message.name) || message.from || message.sent_by || message.doc?.from || ('messages.unknown.sender' | translate) }">
      messages.sent.by
    </span>
    <span class="name"
          *ngIf="!sentBy || !(message.doc?.name || message.contact?.name || (!message.form && message.name) || message.from || message.sent_by || message.doc?.from)">
      {{ message.doc?.name || message.contact?.name || (!message.form && message.name) || message.from || message.sent_by || ('messages.unknown.sender' | translate) }}
    </span>
    <span class="phone" *ngIf="!(message.name && message.name === message.facility?.contact?.phone)">
      {{ message.doc?.phone || message.contact?.phone || message.phone }}
    </span>
  </div>

  <div class="position small-font"
       *ngIf="!hideLineage && (message.lineage || (message.contact && message.contact.parent) || message.place || (!message.form && message.name))"
       [innerHTML]="(message.lineage || (message.contact && message.contact.parent) || message.place) | lineage">
  </div>
</div>
