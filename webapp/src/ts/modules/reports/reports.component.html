<div class="filters">
  <div class="inner">
    <reports-filters (search)="search($event)" [disabled]="selectMode && selectedReports?.length"></reports-filters>
    <mm-navigation></mm-navigation>
  </div>
</div>

<div class="inner">
  <div class="inbox page">

    <div id="reports-list" class="col-sm-4 inbox-items left-pane">
      <div class="selection-count" *ngIf="selectMode">
        <span *ngIf="selectedReports?.length === 1">{{'select.mode.count.singular' | translate}}</span>
        <span *ngIf="selectedReports?.length !== 1" translate="select.mode.count.plural" [translateParams]="{ number: selectedReports?.length || 0 }"></span>
      </div>
      <ul [hidden]="loading && !appending">
        <mm-content-row
          *ngFor="let report of reportsList; trackBy: listTrackBy"
          [id]="report._id"
          (click)="toggleSelected(report)"
          [icon]="report.icon"
          [heading]="report.heading"
          [date]="report.reported_date"
          [summary]="report.summary"
          [showStatus]="true"
          [valid]="report.valid"
          [verified]="report.verified"
          [statusIcon]="report.statusIcon"
          [lineage]="report.lineage"
          [unread]="!report.read"
          [selected]="report.selected"
        >
        </mm-content-row>
      </ul>
      <p *ngIf="error" class="alert alert-danger" role="alert">
        <span *ngIf="errorSyntax">
          <span>{{'invalid.query' | translate}}</span>
        </span>
        <span *ngIf="!errorSyntax">{{'Error fetching reports' | translate }}</span>
      </p>
      <p class="loading-status" *ngIf="!error && !loading && !hasReports">{{'reports.none' | translate}}</p>
      <p class="loading-status" *ngIf="!loading && hasReports && !moreItems">{{'No more reports' | translate}}</p>
      <div class="loader" *ngIf="loading"></div>

      <div class="padding"></div>
    </div>
    <router-outlet></router-outlet>
  </div>
</div>
