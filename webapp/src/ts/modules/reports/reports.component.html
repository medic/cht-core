<div class="filters">
  <div class="inner">
    <reports-filters (search)="search($event)" [disabled]="selectMode && selectedReports?.length"></reports-filters>
    <mm-navigation></mm-navigation>
  </div>
</div>

<div class="inner">
  <div class="inbox page">

    <div id="reports-list" class="col-sm-4 inbox-items left-pane">
      <div class="selection-count" *ngIf="selectMode">
        <span *ngIf="selectedReports?.length === 1" translate>select.mode.count.singular</span>
        <span *ngIf="selectedReports?.length !== 1" translate [translateParams]="{ number: selectedReports?.length || 0 }">select.mode.count.plural</span>
      </div>
      <ul [hidden]="loading && !appending">
        <mm-content-row
          *ngFor="let report of reportsList; trackBy: listTrackBy"
          (click)="toggleSelected($event, report)"
          (onClick)="toggleSelected($event, report)"

          [id]="report._id"
          route="reports"
          [icon]="report.icon"
          [heading]="report.heading"
          [date]="report.reported_date"
          [summary]="report.summary"
          [showStatus]="true"
          [valid]="report.valid"
          [verified]="report.verified"
          [statusIcon]="report.statusIcon"
          [lineage]="report.lineage"
          [unread]="!report.read"
          [selected]="report.selected"
        >
        </mm-content-row>
      </ul>
      <p *ngIf="error" class="alert alert-danger" role="alert">
        <span *ngIf="errorSyntax">
          <span translate>invalid.query</span>
        </span>
        <span *ngIf="!errorSyntax" translate>Error fetching reports</span>
      </p>
      <p class="loading-status" *ngIf="!error && !loading && !hasReports" translate>reports.none</p>
      <p class="loading-status" *ngIf="!loading && hasReports && !moreItems" translate>No more reports</p>
      <div class="loader" *ngIf="loading"></div>

      <div class="padding"></div>
    </div>
    <router-outlet></router-outlet>
  </div>
</div>
